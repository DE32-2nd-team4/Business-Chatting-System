# 요구사항
## 기능
- [ ] 업무 대화 기능
- [ ] 업무 대화 감사 기능
- [ ] 챗봇 기능 - 영화관련
- [ ] 챗봇 기능 - 시스템기능
- [ ] 챗봇 기능 - 일정기능

## 기술스택
- Apache Airflow
- Apache kafka
- Apache Spark
- Apache Zeppelin

# 요구사항 상세

## 기능
다음의 기능을 구현해야하며, 구현장소는
- [ ] CLI
- [ ] Streamlit
에서 진행한다.

### 업무 대화 기능

- 실시간으로 다수의 인원이 메세지를 송신, 수신할 수 있어야 함.
- 나중에 참가하는 대화방의 참가자는 이전의 대화 기록에 대해 다음과 같은 판정을 진행한다.
- [ ] 볼 수 있도록
- [ ] 볼 수 없도록
- 채팅 화면은 아래와 같은 모습을 유지한다.
- - 접속자를 제외한 상대방 채팅은 모두 화면상 왼쪽에 위치하게 하며, 접속자는 오른쪽 화면에 위치하게 한다.
- - 상대방이 보내는 메세지는 cli 상에서는 "[상대방의 닉네임 또는 이름] >> [상대방이 보낸 메세지] | 메세지를 보낸 시각(시(24시):분)"의 내용만 보여주며, 접속자가 상대방에게 보내는 메세지는 "[접속자의 닉네임 또는 이름] >> [내가 보낸 메세지] | 메세지를 보낸 시각(시(24시):분)" 의 형태를 유지한다.
- - 웹페이지에서는 회의 이후 추가함.

### 업무 대화 감사 기능

- 모든 대화 내용을 받을 수 있는 log 파일을 특정 디렉토리에 저장되어있어야 한다.
- log파일을 Airflow상에서 접근하여 적절한 ETL 처리를 거쳐 parquet파일로 저장해야 한다.
- 저장된 parquet파일은 웹페이지상에서 불러와 팀에서 설정한 조건에 따라 대화 내용을 분류하거나 내용 자체를 보여주어야 한다.
- 설정한 조건은 아래에 추가한다
- - [내용 추가]

### 챗봇 기능

- 챗봇은 3가지의 기능을 추가해야하며, 그 내용은 다음과 같다
- 1. 영화 챗봇 : 특정 영화에 대한 정보를 문의하거나, 영화 정보와 관련된 정보를 출력
- 2. 시스템 챗봇 : 접속자의 Local상에서 이루어진 Airflow 작업에서 실패한 내용이 발생시 해당 Airflow dags에서 별도의 Task를 구현해 실패내역을 전송, 해당 전송된 내역을 접속자에게 출력하는 기능.
- 3. 일정 챗봇 : 특정 시간 5분전 사용자에게 시간을 안내하는 내용을 출력하는 챗봇 기능 
